const Account = require("../account");

test("get_all_blance", async () => {
  const dataArr = [
    {
      userId: 76,
      buyCount: 35,
      doMax: 5,
      type: "15m",
      apikey: "238f3b6b-da7d-4ce9-b566-637d8e203a1e",
      secretkey: "5356C18014C1CE5EF7036551FDC153AB",
      passphrase: "Gxb123456@",
    },
    {
      userId: 104,
      buyCount: 35,
      doMax: 5,
      type: "15m",
      apikey: "fd14b23d-303d-41f3-a361-191cf49421e4",
      secretkey: "21CA3C525CFFD9969B84F47140CB0F8B",
      passphrase: "Ni208129@",
    },
    {
      userId: 71,
      buyCount: 2,
      doMax: 5,
      type: "15m",
      apikey: "a71efbce-9bfb-4182-8f19-0aaabe1dabb1",
      secretkey: "D5B6A83631075D179C721624C66C1C70",
      passphrase: "mkaP.15091360452",
    },
    {
      userId: 103,
      buyCount: 2,
      doMax: 6,
      type: "15m",
      apikey: "da0e3362-70ea-45e1-85fd-ef5c01f21e6e",
      secretkey: "E73784AE9168CBFA05A92CDB02508DCB",
      passphrase: "Bing-888",
    },
    {
      userId: 50,
      buyCount: 3,
      doMax: 5,
      type: "15m",
      apikey: "4ec8e362-573b-447a-bd5f-e3a151cc34dc",
      secretkey: "503CEF3335B4D2E9FA1C11230AF5DF37",
      passphrase: "414374489Shf#",
    },
    {
      userId: 121,
      buyCount: 5,
      doMax: 5,
      type: "15m",
      apikey: "31a01186-bb93-4cc7-b6de-b8e4e6c9d217",
      secretkey: "FFDFD4D30A0A8D371F83A227151FFF21",
      passphrase: "@Jhr131419",
    },
    {
      userId: 58,
      buyCount: 20,
      doMax: 5,
      type: "15m",
      apikey: "e61e678c-550b-4fc7-8d8e-8e0b111b0d04",
      secretkey: "EAC33B5EEA1791DCE4F8D22AC27AEAE1",
      passphrase: "Weiyu0731@",
    },
    {
      userId: 105,
      buyCount: 7,
      doMax: 5,
      type: "15m",
      apikey: "85cdda19-027a-4752-8788-97351bc29da4",
      secretkey: "0A2711D66F349A49D784A72E0E540606",
      passphrase: "Yzh@666888",
    },
    {
      userId: 109,
      buyCount: 3,
      doMax: 5,
      type: "15m",
      apikey: "a6cfd999-84fc-4cf8-a330-b86f85deb1db",
      secretkey: "22EAD56667604EB1AC40C0768BA3FFF9",
      passphrase: "Liuna0817!",
    },
    {
      userId: 125,
      buyCount: 3,
      doMax: 5,
      type: "15m",
      apikey: "01ec2d52-9e0d-432a-a851-b2a5e6adf79b",
      secretkey: "CD69B8DD47D51DB37542106844D37FAA",
      passphrase: "bzj19871001AIwyj%",
    },
    {
      userId: 52,
      buyCount: 16,
      doMax: 5,
      type: "15m",
      apikey: "a147316a-38ee-4d94-a695-41b24bc7f735",
      secretkey: "EE3D8E613F72CA4E0737AEF755AD5C22",
      passphrase: "Zzb@19860723",
    },
    {
      userId: 118,
      buyCount: 1.2,
      doMax: 6,
      type: "15m",
      apikey: "9552d492-9ba5-463f-aed9-f15296ef4770",
      secretkey: "F26D1636A902816A0FF6419778259A8F",
      passphrase: "Hxl050801@",
    },
    {
      userId: 90,
      buyCount: 11,
      doMax: 5,
      type: "15m",
      apikey: "3cd9d2f3-9371-4f08-8199-8f23693de22d",
      secretkey: "7A1F6AE40F5293433B4FA43908443A00",
      passphrase: "Zaq111...",
    },
    {
      userId: 144,
      buyCount: 8,
      doMax: 6,
      type: "15m",
      apikey: "665c6fe2-d4e7-48fe-b28e-4491bec0d8cb",
      secretkey: "78517D2F8C97A12C1ED3C4F354A0BB14",
      passphrase: "Cdl879641$",
    },
    {
      userId: 148,
      buyCount: 6,
      doMax: 5,
      type: "15m",
      apikey: "7f25bf12-c7aa-4ee4-a1ce-22e50902a311",
      secretkey: "65FE0E30C84A6D9A3B21B76CCF0A3092",
      passphrase: "liuCJ6328599#",
    },
    {
      userId: 143,
      buyCount: 8,
      doMax: 5,
      type: "15m",
      apikey: "b2e6cde0-823a-44d5-95a3-d22fd3be44d6",
      secretkey: "1C8BE15B42C33B6DD2E2A5ECEF939D3E",
      passphrase: "Dya200862@",
    },
    {
      userId: 156,
      buyCount: 7,
      doMax: 5,
      type: "15m",
      apikey: "2346f074-cec4-4fc3-9cb4-4c2b69eab0ad",
      secretkey: "6D9704C1D177DD801375ABE02FE9CFA0",
      passphrase: "Ch731339?",
    },
    {
      userId: 99,
      buyCount: 7,
      doMax: 6,
      type: "15m",
      apikey: "f018e45c-eb12-48cc-8e62-7f0396609a60",
      secretkey: "4BBD9D19A26E5075C58D8F578D79724E",
      passphrase: "ERge789789!",
    },
    {
      userId: 136,
      buyCount: 1.2,
      doMax: 6,
      type: "15m",
      apikey: "4a1fd4c4-c9ba-46f7-8a74-9daaf1b7829f",
      secretkey: "7A4CB8B9E54F4133BA649407F91E500D",
      passphrase: "Ycy666888:",
    },
    {
      userId: 163,
      buyCount: 18,
      doMax: 6,
      type: "15m",
      apikey: "0ee7099f-b09e-4291-ae84-eea97b5b3fd6",
      secretkey: "95887467FD69999BEBFA24C8E30A27ED",
      passphrase: "Lhp19631006@",
    },
    {
      userId: 41,
      buyCount: 2,
      doMax: 6,
      type: "15m",
      apikey: "bccf56f5-2251-4479-8d27-4a3f8e11a6df",
      secretkey: "5A6BB25C5C25AC1231F34EC51466BA64",
      passphrase: "wWw@woaiaida#123",
    },
    {
      userId: 64,
      buyCount: 30,
      doMax: 5,
      type: "15m",
      apikey: "b8baafed-f1d0-4b70-a844-632616b18115",
      secretkey: "8C4A0CAAB592B711B67C6D5314321A85",
      passphrase: "Zhao39858888@",
    },
    {
      userId: 23,
      buyCount: 5,
      doMax: 6,
      type: "15m",
      apikey: "18487558-fa70-4a43-990c-5ce9fddcc6ae",
      secretkey: "811C8610B9E7BE57B4131A2ED195EEE5",
      passphrase: "Aa789456123@",
    },
    {
      userId: 108,
      buyCount: 14,
      doMax: 6,
      type: "15m",
      apikey: "71a129a7-8c68-412e-8fe7-c41975f09e4f",
      secretkey: "C6449E9B541E89978FE31ED5D74CF586",
      passphrase: "XDnormancui3!",
    },
    {
      userId: 8,
      buyCount: 7,
      doMax: 5,
      type: "15m",
      apikey: "1ab04834-6545-4456-8601-24ce753ee0e3",
      secretkey: "763C8EDD85462A3BED975DA94C3BEC40",
      passphrase: "Mumu1314@",
    },
    {
      userId: 95,
      buyCount: 7,
      doMax: 5,
      type: "15m",
      apikey: "26fe25a0-7bcc-48e4-9764-5806a2e35a2f",
      secretkey: "C2B4095620DE6A6EAE8DB6BB86C0ED7D",
      passphrase: "Mumu1314@",
    },
    {
      userId: 51,
      buyCount: 7,
      doMax: 6,
      type: "15m",
      apikey: "9cec535c-868b-460b-aaae-6b46519bf846",
      secretkey: "FFEC3AC28CB6DC3CAE5E65E96FC62060",
      passphrase: "Ma!195989",
    },
    {
      userId: 113,
      buyCount: 10,
      doMax: 6,
      type: "15m",
      apikey: "123ff916-0843-45c9-b028-fb8c0eb5f8db",
      secretkey: "B48649848639B347B1003001E171C9C6",
      passphrase: "China912@dev",
    },
    {
      userId: 128,
      buyCount: 35,
      doMax: 5,
      type: "15m",
      apikey: "194aff3c-119f-40ab-b451-c3f52debd921",
      secretkey: "1D0CFCF86705077BED44234BCAEFBBB4",
      passphrase: "Zhuzhu202208#",
    },
    {
      userId: 141,
      buyCount: 5,
      doMax: 5,
      type: "15m",
      apikey: "346f1593-cb5b-4eec-8866-21a20945d449",
      secretkey: "D38FDCC1102630323C685DF0211C2C10",
      passphrase: "Mn131419#",
    },
    {
      userId: 162,
      buyCount: 18,
      doMax: 6,
      type: "15m",
      apikey: "d5a00078-e9ed-4fb5-8f0f-82ca19713775",
      secretkey: "628B7057969FB5B72ABEA2CC7AFE4D8A",
      passphrase: "Z130805h@",
    },
    {
      userId: 3,
      buyCount: 7,
      doMax: 5,
      type: "15m",
      apikey: "fe573c53-321b-4780-9853-80091684090e",
      secretkey: "36DA773830CF50AB635C62B4AC34E928",
      passphrase: "Wq19851001*",
    },
    {
      userId: 107,
      buyCount: 15,
      doMax: 6,
      type: "15m",
      apikey: "720f9518-485b-47ea-b92e-74a619768bc9",
      secretkey: "60BA9D5F8D074337A0FA3A3AADE9B936",
      passphrase: "Zah751018@yzj",
    },
    {
      userId: 137,
      buyCount: 1.2,
      doMax: 6,
      type: "15m",
      apikey: "4a260945-c3d2-42e3-9409-f27dca19ca02",
      secretkey: "145375334D6E07F2EB312FEC32938CD2",
      passphrase: "Wlj666888:",
    },
    {
      userId: 181,
      buyCount: 5,
      doMax: 5,
      type: "15m",
      apikey: "9e8c8db2-5b0c-42a2-a547-6dfe7c0ade02",
      secretkey: "93EC1CB24C1D14399898F3A86DD12535",
      passphrase: "Qwp082199/",
    },
    {
      userId: 174,
      buyCount: 2,
      doMax: 5,
      type: "15m",
      apikey: "c38a1bcd-ab1a-490d-bb6d-4073e7c240b2",
      secretkey: "483C63E3397832AB8A11DB53DC078E45",
      passphrase: "Yu204604@",
    },
    {
      userId: 69,
      buyCount: 28,
      doMax: 5,
      type: "15m",
      apikey: "42f376bc-dd41-4c3a-918f-30c006dbfa45",
      secretkey: "B95CD6765742752341C4F72F1ABC4F64",
      passphrase: "Wfj516104@",
    },
    {
      userId: 190,
      buyCount: 7,
      doMax: 6,
      type: "15m",
      apikey: "9f652218-3aaa-49ed-92ef-0e1241daa595",
      secretkey: "C321634FD01719FE158E62C2EE52A34E",
      passphrase: "Aa789456123@",
    },
    {
      userId: 161,
      buyCount: 4,
      doMax: 6,
      type: "15m",
      apikey: "cde789c4-f094-486f-a5e3-019759032344",
      secretkey: "05CA9CF8220D9703D122AD08BBF1A8B7",
      passphrase: "Qwe12345678@",
    },
    {
      userId: 177,
      buyCount: 4,
      doMax: 6,
      type: "15m",
      apikey: "b8670c3c-dbbb-4dc3-82fa-83bd0c582b1a",
      secretkey: "CBA6450D312FA248F52DF48DF2BA408B",
      passphrase: "Qwe12345678@",
    },
    {
      userId: 19,
      buyCount: 2.2,
      doMax: 4,
      type: "15m",
      apikey: "60c5acc4-c28a-4f58-8f11-6d78755a8678",
      secretkey: "86EAB33573EF79456AA35F4B3D8C53B7",
      passphrase: "768878frH@",
    },
    {
      userId: 86,
      buyCount: 1,
      doMax: 5,
      type: "15m",
      apikey: "aadcf5a8-b3a2-4615-a7c8-7c42932b765a",
      secretkey: "A35E1AA518108DBD40C754F5B7C0D0B5",
      passphrase: "Zl19700823#",
    },
    {
      userId: 4,
      buyCount: 14,
      doMax: 6,
      type: "15m",
      apikey: "0737f857-a2e1-45f2-88e6-fad740e62002",
      secretkey: "FA1A24E0CA2B148E6A14C734C1EF596B",
      passphrase: "Aa789456123@",
    },
    {
      userId: 183,
      buyCount: 2,
      doMax: 5,
      type: "15m",
      apikey: "7dd24f4e-0684-4926-ab2b-1be3844cb6b8",
      secretkey: "16633C6DC7C6A5ED950434BD6C59BE5B",
      passphrase: "@Hqm123128",
    },
    {
      userId: 115,
      buyCount: 2,
      doMax: 6,
      type: "15m",
      apikey: "238729b1-bbc8-4ba4-91ec-c78d1d0eedf4",
      secretkey: "867CE64EE9C43FD697312FBACA01D553",
      passphrase: "zB939575.",
    },
    {
      userId: 182,
      buyCount: 5,
      doMax: 5,
      type: "15m",
      apikey: "aa8e5665-3599-49ab-a49f-d4add647f099",
      secretkey: "A623DFA0E75FB5E631ED7AA6437A360F",
      passphrase: "Qwer12345678@",
    },
    {
      userId: 11,
      buyCount: 35,
      doMax: 6,
      type: "15m",
      apikey: "8114b885-f2fd-4df8-9e9f-3a78f9360a69",
      secretkey: "692D03D0D15978598F2CBF3E4468D12D",
      passphrase: "Qwe@123456",
    },
    {
      userId: 119,
      buyCount: 18,
      doMax: 6,
      type: "15m",
      apikey: "271185af-0c86-4c53-bf11-0182cce3f90a",
      secretkey: "F6D9101D4672F81E395942DDD01BC875",
      passphrase: "Gh721020@",
    },
    {
      userId: 131,
      buyCount: 10,
      doMax: 5,
      type: "15m",
      apikey: "cdc0e5d3-4961-4d6b-a5a3-9db682e19c9a",
      secretkey: "49CD99A72B45583E9802B3F046F82B24",
      passphrase: "LI33333qiu@",
    },
    {
      userId: 176,
      buyCount: 2.8,
      doMax: 5,
      type: "15m",
      apikey: "2b08ff1c-ff47-453a-a23d-282d98ab10cf",
      secretkey: "A97DDB2DFBB9F3B5B40F0B9292F5E719",
      passphrase: "Ljs1234.",
    },
    {
      userId: 56,
      buyCount: 8,
      doMax: 5,
      type: "15m",
      apikey: "3aa386e6-6714-4d8c-aba6-12a2887e2442",
      secretkey: "FB97709FC4C0E7A49FEF8C9A09E77B11",
      passphrase: "wW821398@",
    },
    {
      userId: 2,
      buyCount: 50,
      doMax: 1,
      type: "15m",
      apikey: "b26e85f5-0b65-43e3-a7bd-dc983fe70248",
      secretkey: "FE4CA5501FE89A65A06F4F33CD87457E",
      passphrase: "Www@2225",
    },
    {
      userId: 178,
      buyCount: 28,
      doMax: 5,
      type: "15m",
      apikey: "67e057d3-d65b-4bee-aaa4-16ecfa43ae52",
      secretkey: "17702A703FA4F130D6B06836711EE792",
      passphrase: "Jasonmasz,1",
    },
    {
      userId: 112,
      buyCount: 100,
      doMax: 5,
      type: "15m",
      apikey: "833807a1-5578-49e4-9940-521f71bf023f",
      secretkey: "478E8EF29B439F2828520A331173BC34",
      passphrase: "Lx396075@",
    },
    {
      userId: 9,
      buyCount: 7,
      doMax: 6,
      type: "15m",
      apikey: "4a88b9e2-7743-48b5-8202-3a4b75381236",
      secretkey: "03996CD38532C2665B09DE81398275A2",
      passphrase: "Gao123_456666",
    },
    {
      userId: 192,
      buyCount: 4,
      doMax: 6,
      type: "15m",
      apikey: "4afb26de-8c7c-4e7d-8215-9be56bfd5543",
      secretkey: "2B29AD1D5AAA6DA7E166BE8B950D4067",
      passphrase: "Du_12345689",
    },
    {
      userId: 36,
      buyCount: 6.6,
      doMax: 5,
      type: "15m",
      apikey: "360eab48-4ce9-49a5-8b0e-dd82b3255221",
      secretkey: "3D6B73AB88E30E2A252D7F115EFAF095",
      passphrase: "lsC123456.",
    },
    {
      userId: 186,
      buyCount: 3,
      doMax: 6,
      type: "15m",
      apikey: "494cf63b-3568-461e-88ac-928b53a7ec7a",
      secretkey: "ACA8009B15C6DED26A54096544221672",
      passphrase: "Axy050319@",
    },
    {
      userId: 187,
      buyCount: 4,
      doMax: 5,
      type: "15m",
      apikey: "467c207b-2fd1-4a4d-bd8e-e46c497e4984",
      secretkey: "B4214EDADB0F989E162F3AB6ABD946CD",
      passphrase: "Axy050319@",
    },
    {
      userId: 84,
      buyCount: 6.8,
      doMax: 5,
      type: "15m",
      apikey: "2e8fc17b-abf4-4352-a641-4b219a1dff48",
      secretkey: "11D61E8D3E3F1D9137B2CB6812CE327A",
      passphrase: "768878frH@",
    },
    {
      userId: 123,
      buyCount: 1,
      doMax: 6,
      type: "15m",
      apikey: "dcb86d95-31a9-4d80-8aa6-64028910ddb9  ",
      secretkey: "F41D77EAD416059526EEEB6F9E67EFB4",
      passphrase: "313313An@",
    },
    {
      userId: 114,
      buyCount: 40,
      doMax: 5,
      type: "15m",
      apikey: "741d880d-ee4e-469c-a1ee-c6620bd455ed",
      secretkey: "F12C7373D611EBCB2D95C4A064765DF7",
      passphrase: "Zbj16881688$$",
    },
    {
      userId: 80,
      buyCount: 2,
      doMax: 5,
      type: "15m",
      apikey: "0f893e12-1ee4-401f-b495-7289223aee76",
      secretkey: "0B9934928B0D275919A0A369C0817F86",
      passphrase: "Zjlazrael1614@",
    },
    {
      userId: 60,
      buyCount: 15,
      doMax: 5,
      type: "15m",
      apikey: "8e0d5233-2b35-4264-a87e-c97bab9e38ab",
      secretkey: "2A4512031A4D8BE58AE021EE6910F6DB",
      passphrase: "997315zjW@",
    },
    {
      userId: 21,
      buyCount: 10,
      doMax: 6,
      type: "15m",
      apikey: "9916d7d3-dd51-4374-ba87-ab6c97444d3e",
      secretkey: "25AFF0F7F6E4FFF4547588FA47A06E81",
      passphrase: "Tao13891921850@",
    },
    {
      userId: 87,
      buyCount: 6,
      doMax: 5,
      type: "15m",
      apikey: "f8ff4b37-3b21-4c44-82f0-474d4ef9df07",
      secretkey: "BDA7884A69AB0196D396081CA7BE7AD1",
      passphrase: "Tao13891921850@",
    },
    {
      userId: 129,
      buyCount: 34,
      doMax: 5,
      type: "15m",
      apikey: "a551a58e-06a0-4b4c-91d9-f1c24c3107d3",
      secretkey: "24129A02DD4635D673A6EAEEA6F4D2CA",
      passphrase: "JF@lht1234567",
    },
    {
      userId: 22,
      buyCount: 30,
      doMax: 5,
      type: "15m",
      apikey: "f1f97680-b7cb-49e9-87fc-421116e98eec",
      secretkey: "65655986D68F98CECA4025ABADB9C95E",
      passphrase: "JF@lht960320",
    },
    {
      userId: 210,
      buyCount: 20,
      doMax: 5,
      type: "15m",
      apikey: "4f9ebaf1-b58a-414f-8346-6cdfef3af0c0",
      secretkey: "1806A31B842691DD8DAC5D78284ACFEE",
      passphrase: "Swk168899$$",
    },
    {
      userId: 98,
      buyCount: 2,
      doMax: 6,
      type: "15m",
      apikey: "8e44c433-6b9d-4d3d-93fb-569d1b9c2156",
      secretkey: "258C33ED2EB8ADF85B36BA627AB2BDEC",
      passphrase: "Zhangxu0219..",
    },
    {
      userId: 199,
      buyCount: 9,
      doMax: 6,
      type: "15m",
      apikey: "b4b0c15e-e3f9-48ad-8004-5bab52ef0c64",
      secretkey: "1F689DE0AB2799806D0ECFFB07A9C4BA",
      passphrase: "XDnormancui3!",
    },
  ];
  const logData = [];
  for (const userData of dataArr) {
    const account = new Account(
      userData.apikey,
      userData.secretkey,
      userData.passphrase,
      {
        env: "production",
      }
    );
    logData.push(account.balance({ ccy: "USDT" }));
  }
  const resData = await Promise.all(logData);
  const lastData = [];

  for (index = 0; index < resData.length; index++) {
    const item = resData[index][0];
    lastData.push({
      availEq: item.details[0].availEq,
      cashBal: item.details[0].cashBal,
      userId: dataArr[index].userId,
    });
  }
  console.log(lastData);
});
